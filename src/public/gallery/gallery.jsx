import React, {useEffect, useState} from 'react';
import './gallery.css';
import CloseIcon from '@material-ui/icons/Close';
import axios from "axios";
import ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';
import ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';

function Gallery() {
  const [thumbs, setThumbs] = useState([]);
  const [thumbsNumArr, setThumbsNumArr] = useState([]);
  const [photoIndex, setPhotoIndex] = useState(1);
  const [showModal, setShowModal] = useState(false);
  const [disableShowMore, setDisableShowMore] = useState(false);
  const [modalPhoto, setModalPhoto] = useState('');
  const [numOfPhotosShown, setNumOfPhotosShown] = useState(19);

  const buildDisplayThumbnails = (thumbsArr, numOfPhotos) => {
    const temp = [];
    for (let i = 0; i < thumbsArr.length; i++) {
      temp[i] = {url:`https://mtnbiketravel-gallery.s3.us-east-2.amazonaws.com/thumb-${thumbsArr[i]}.jpg`, num: thumbsArr[i]};
      if (i === numOfPhotos) break;
    }
    setThumbs(temp);
  };

  useEffect(() => {
    let thumbsArr = [];
    async function fetchData() {
      // const response = await axios.get('https://mtnbiketravel-gallery.s3.amazonaws.com/?list-type=2');
      const response = "<?xml version='1.0' encoding='UTF-8'?><ListBucketResult xmlns='http://s3.amazonaws.com/doc/2006-03-01/'><Name>mtnbiketravel-gallery</Name><Prefix></Prefix><KeyCount>172</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>full-1.jpg</Key><LastModified>2019-12-27T04:24:26.000Z</LastModified><ETag>&quot;81e85f7cbad50ba946b1bf3cdb70a367&quot;</ETag><Size>3600558</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-10.jpg</Key><LastModified>2019-12-27T14:29:12.000Z</LastModified><ETag>&quot;dc70c1fd4731e9b78eceafc5fb30eece&quot;</ETag><Size>2062128</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-11.jpg</Key><LastModified>2019-12-27T14:29:13.000Z</LastModified><ETag>&quot;87466e6e9d8b7bee251237a7735565b3&quot;</ETag><Size>2469543</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-12.jpg</Key><LastModified>2019-12-27T14:29:17.000Z</LastModified><ETag>&quot;58884cf065289896a8f67f5cdd96d33b&quot;</ETag><Size>3414799</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-13.jpg</Key><LastModified>2019-12-27T14:29:14.000Z</LastModified><ETag>&quot;b77701148ff7c51a09c681cb6a0d7746&quot;</ETag><Size>3230542</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-14.jpg</Key><LastModified>2019-12-27T14:29:17.000Z</LastModified><ETag>&quot;040c1c2536623c3b466cf8ec2a6e6dd9&quot;</ETag><Size>3192049</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-15.jpg</Key><LastModified>2019-12-27T14:29:19.000Z</LastModified><ETag>&quot;a2f1a30179e7ad1d30e7a0ae1e1e4525&quot;</ETag><Size>2080853</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-16.jpg</Key><LastModified>2019-12-27T14:29:22.000Z</LastModified><ETag>&quot;23b9958ef2224cad032e7f8de34936b1&quot;</ETag><Size>2356732</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-17.jpg</Key><LastModified>2019-12-27T14:29:22.000Z</LastModified><ETag>&quot;665b3205640880bf7cfa272934e38f40&quot;</ETag><Size>2604817</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-18.jpg</Key><LastModified>2019-12-27T14:29:24.000Z</LastModified><ETag>&quot;a9c858ac958adc13bcb422718d5c8262&quot;</ETag><Size>2363866</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-19.jpg</Key><LastModified>2019-12-27T14:29:25.000Z</LastModified><ETag>&quot;27666581c4481d68f20f9fb1c1dfd1bf&quot;</ETag><Size>3109282</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-2.jpg</Key><LastModified>2019-12-27T04:24:18.000Z</LastModified><ETag>&quot;72336b99349d73497f08a5eaf0739dc0&quot;</ETag><Size>1583496</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-20.jpg</Key><LastModified>2019-12-27T14:47:19.000Z</LastModified><ETag>&quot;bbdd661d563b8de93b2947884a665598&quot;</ETag><Size>2796956</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-21.jpg</Key><LastModified>2019-12-27T14:47:19.000Z</LastModified><ETag>&quot;396e378836515f00fd59df62a5e2e5d4&quot;</ETag><Size>2252839</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-22.jpg</Key><LastModified>2019-12-27T14:47:18.000Z</LastModified><ETag>&quot;92efd5ada53ff4cf10df2193f18caabc&quot;</ETag><Size>1915492</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-23.jpg</Key><LastModified>2019-12-27T15:57:45.000Z</LastModified><ETag>&quot;bc40ada56ba40f4694e2c45252926afb&quot;</ETag><Size>2059511</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-24.jpg</Key><LastModified>2019-12-27T15:57:44.000Z</LastModified><ETag>&quot;87ab063d5c80e6e572d20448496bb572&quot;</ETag><Size>1148153</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-25.jpg</Key><LastModified>2019-12-27T15:57:49.000Z</LastModified><ETag>&quot;c3de86c19118ddcbf07363bfaf3a6268&quot;</ETag><Size>6996001</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-26.jpg</Key><LastModified>2019-12-27T15:57:44.000Z</LastModified><ETag>&quot;93f9b817d17fa0f336158a7e95b61ac8&quot;</ETag><Size>1196498</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-27.jpg</Key><LastModified>2019-12-27T15:57:44.000Z</LastModified><ETag>&quot;24a76c3c52ff8f7c7f4859920229050f&quot;</ETag><Size>1024538</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-28.jpg</Key><LastModified>2019-12-27T18:35:32.000Z</LastModified><ETag>&quot;46c119036983810930293cf204fc6e1c&quot;</ETag><Size>1534830</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-29.jpg</Key><LastModified>2019-12-27T18:35:32.000Z</LastModified><ETag>&quot;74e34ebde2b2a89d383f91a6a5817944&quot;</ETag><Size>1039197</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-3.jpg</Key><LastModified>2019-12-27T04:24:23.000Z</LastModified><ETag>&quot;f051891f59cc5200a899fb91f7b55266&quot;</ETag><Size>1754068</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-30.jpg</Key><LastModified>2019-12-27T18:35:41.000Z</LastModified><ETag>&quot;e0a2a3f1bbf77da6a85e6b99ccd23790&quot;</ETag><Size>1488325</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-31.jpg</Key><LastModified>2019-12-27T18:35:44.000Z</LastModified><ETag>&quot;bf68513af014423fc39bedb9524a554c&quot;</ETag><Size>1705586</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-32.jpg</Key><LastModified>2019-12-27T18:35:39.000Z</LastModified><ETag>&quot;b38c5bfc34abe95ea865133246783740&quot;</ETag><Size>1531860</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-33.jpg</Key><LastModified>2019-12-27T18:35:34.000Z</LastModified><ETag>&quot;1b12b2890a2c5934b33e93db1f1b7014&quot;</ETag><Size>1589749</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-34.jpg</Key><LastModified>2019-12-27T18:35:36.000Z</LastModified><ETag>&quot;a6b798b3cb57f3598561b29efb9d42d7&quot;</ETag><Size>1632067</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-35.jpg</Key><LastModified>2019-12-27T18:35:37.000Z</LastModified><ETag>&quot;3afb92374aa155a027088a5c14796a2b&quot;</ETag><Size>1594195</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-36.jpg</Key><LastModified>2019-12-27T18:35:40.000Z</LastModified><ETag>&quot;b5cc8a9ab466cafbcca5772d59f983cd&quot;</ETag><Size>1471095</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-37.jpg</Key><LastModified>2019-12-27T18:35:41.000Z</LastModified><ETag>&quot;cf429a389d18e5e237d0be789fb7c0ac&quot;</ETag><Size>1506550</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-38.jpg</Key><LastModified>2019-12-27T18:35:45.000Z</LastModified><ETag>&quot;a6f75fb5af39bc0e514682c0490739e4&quot;</ETag><Size>1760662</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-39.jpg</Key><LastModified>2019-12-27T18:35:45.000Z</LastModified><ETag>&quot;eacceb187f0ce93342d697d0abbbac79&quot;</ETag><Size>1285046</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-4.jpg</Key><LastModified>2019-12-27T04:24:26.000Z</LastModified><ETag>&quot;884a85af575f585ee712ffe1a19ddeeb&quot;</ETag><Size>2561286</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-40.jpg</Key><LastModified>2019-12-27T18:35:46.000Z</LastModified><ETag>&quot;064e7b68a1fb2a5c3fe28157d9a12fa4&quot;</ETag><Size>1570090</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-41.jpg</Key><LastModified>2019-12-27T18:35:47.000Z</LastModified><ETag>&quot;7a64b6435c49a420a0edbb95d5735016&quot;</ETag><Size>2515586</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-42.jpg</Key><LastModified>2019-12-27T18:45:54.000Z</LastModified><ETag>&quot;ced3ae2f4e1423b87ce67e1f6dd8cf41&quot;</ETag><Size>1744460</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-43.jpg</Key><LastModified>2019-12-27T18:45:54.000Z</LastModified><ETag>&quot;36d569dc633e2e7f6f1c99038d6b79a0&quot;</ETag><Size>1745933</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-44.jpg</Key><LastModified>2019-12-27T18:45:55.000Z</LastModified><ETag>&quot;0bde8c97551d2ebf1a497b6c9dff88bb&quot;</ETag><Size>1832312</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-45.jpg</Key><LastModified>2019-12-27T18:45:55.000Z</LastModified><ETag>&quot;59e7a9cd2519532757b78b9326b87a7f&quot;</ETag><Size>1989897</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-46.jpg</Key><LastModified>2019-12-27T18:45:53.000Z</LastModified><ETag>&quot;3265977d3e6b11a303f6575819a8cf5b&quot;</ETag><Size>1303193</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-47.jpg</Key><LastModified>2019-12-27T18:45:57.000Z</LastModified><ETag>&quot;838b27dd85ea648a8d6b12e9dd8cc655&quot;</ETag><Size>1701997</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-48.jpg</Key><LastModified>2019-12-27T18:45:59.000Z</LastModified><ETag>&quot;bd22af319f78c9e25ee0a2b12777effd&quot;</ETag><Size>2102901</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-49.jpg</Key><LastModified>2019-12-27T18:46:00.000Z</LastModified><ETag>&quot;a661d6c76aeecb6e140ca5178355e3d4&quot;</ETag><Size>2002421</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-5.jpg</Key><LastModified>2019-12-27T04:24:23.000Z</LastModified><ETag>&quot;efccf0e50d741c5612aeb2754c339ed5&quot;</ETag><Size>2268731</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-50.jpg</Key><LastModified>2019-12-27T18:45:59.000Z</LastModified><ETag>&quot;24eeea04ee704b53736011302c8b711f&quot;</ETag><Size>1169182</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-51.jpg</Key><LastModified>2019-12-27T18:49:33.000Z</LastModified><ETag>&quot;2d418acf990f592b56c19f50fe09cba4&quot;</ETag><Size>1325925</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-52.jpg</Key><LastModified>2019-12-27T18:49:33.000Z</LastModified><ETag>&quot;3d3ab6b08854bb18eab1afd7de3ee5d7&quot;</ETag><Size>1292932</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-53.jpg</Key><LastModified>2019-12-27T18:49:34.000Z</LastModified><ETag>&quot;2aee67570315631eb444ea7b3610239c&quot;</ETag><Size>1330194</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-54.jpg</Key><LastModified>2019-12-27T18:49:34.000Z</LastModified><ETag>&quot;92dfead7fa0e9b75fbcfcc9e3c6c4750&quot;</ETag><Size>1309141</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-55.jpg</Key><LastModified>2019-12-28T14:24:16.000Z</LastModified><ETag>&quot;4563a14be1a0d2294ff0d0651dad17ae&quot;</ETag><Size>1833938</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-56.jpg</Key><LastModified>2019-12-28T14:24:07.000Z</LastModified><ETag>&quot;95eacaa1e5b0beb2995fb294527a5cad&quot;</ETag><Size>2474460</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-57.jpg</Key><LastModified>2019-12-28T14:24:16.000Z</LastModified><ETag>&quot;89883c8f571c4f0b4e5268c484cc8826&quot;</ETag><Size>2258824</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-58.jpg</Key><LastModified>2019-12-28T14:24:18.000Z</LastModified><ETag>&quot;ee57639271e41359bc1a5c75950a9691&quot;</ETag><Size>2414275</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-59.jpg</Key><LastModified>2019-12-28T14:24:19.000Z</LastModified><ETag>&quot;10bc1f02d4a5c0a324d199fde71da9f1&quot;</ETag><Size>2582802</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-6.jpg</Key><LastModified>2019-12-27T04:24:29.000Z</LastModified><ETag>&quot;e8f502cac613b02c84a62ceeeff580f0&quot;</ETag><Size>3201802</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-60.jpg</Key><LastModified>2019-12-28T14:24:10.000Z</LastModified><ETag>&quot;c9b22358fd26ecd18f6596e3250d04a1&quot;</ETag><Size>2530554</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-61.jpg</Key><LastModified>2019-12-28T14:24:16.000Z</LastModified><ETag>&quot;0bd72d7131ff7e932dfa3f7b59c5040f&quot;</ETag><Size>2404390</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-62.jpg</Key><LastModified>2019-12-28T14:24:25.000Z</LastModified><ETag>&quot;035a74987cfbe07e15d5410f3c051406&quot;</ETag><Size>2464338</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-63.jpg</Key><LastModified>2019-12-28T14:24:22.000Z</LastModified><ETag>&quot;92bffe51993bdb0f7b3e073d91e57424&quot;</ETag><Size>1563936</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-64.jpg</Key><LastModified>2019-12-28T14:24:23.000Z</LastModified><ETag>&quot;e2259aab321789ce7f38384c2279f8cf&quot;</ETag><Size>1780691</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-65.jpg</Key><LastModified>2019-12-28T14:24:23.000Z</LastModified><ETag>&quot;f58a8d31cb5bc4ec9d5ab344b3a70470&quot;</ETag><Size>1776054</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-66.jpg</Key><LastModified>2019-12-28T14:24:27.000Z</LastModified><ETag>&quot;0ed0e20202f9972b08f73fec36f52e8a&quot;</ETag><Size>2127258</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-67.jpg</Key><LastModified>2019-12-28T14:24:27.000Z</LastModified><ETag>&quot;99512d4d6928715de368d2f0876eb6c0&quot;</ETag><Size>1167620</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-68.jpg</Key><LastModified>2019-12-28T14:24:27.000Z</LastModified><ETag>&quot;a80fe9a6bb5c9a20d10de082afb70ccb&quot;</ETag><Size>1596602</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-69.jpg</Key><LastModified>2019-12-28T14:24:28.000Z</LastModified><ETag>&quot;8d988d15a8907ebe6ef187fa451c1392&quot;</ETag><Size>1411530</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-7.jpg</Key><LastModified>2019-12-27T04:24:31.000Z</LastModified><ETag>&quot;6f0a04a7ae95b2104b2910efd62da05e&quot;</ETag><Size>2411407</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-70.jpg</Key><LastModified>2019-12-28T14:44:23.000Z</LastModified><ETag>&quot;6fb31b87607b5db447fdd3d00045f2af&quot;</ETag><Size>2049314</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-71.jpg</Key><LastModified>2019-12-28T14:44:23.000Z</LastModified><ETag>&quot;236c213ca5de0a70b55a5b3fd040c3c8&quot;</ETag><Size>1947036</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-72.jpg</Key><LastModified>2019-12-28T14:44:22.000Z</LastModified><ETag>&quot;57183d0d64eee374d436f693a822ca62&quot;</ETag><Size>1719055</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-73.jpg</Key><LastModified>2019-12-28T14:44:21.000Z</LastModified><ETag>&quot;2254e803298fc148cf9bfa79a7886443&quot;</ETag><Size>1249677</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-74.jpg</Key><LastModified>2019-12-28T14:44:24.000Z</LastModified><ETag>&quot;e5b760188939dac9f8449df152f0d261&quot;</ETag><Size>2539796</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-75.jpg</Key><LastModified>2019-12-28T14:44:27.000Z</LastModified><ETag>&quot;2d3112581526622c1d149f5fdb5c6af3&quot;</ETag><Size>1888974</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-76.jpg</Key><LastModified>2019-12-28T14:44:29.000Z</LastModified><ETag>&quot;6da7988e1bf8bc48b2db81051a9e2262&quot;</ETag><Size>2842163</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-77.jpg</Key><LastModified>2019-12-28T14:44:30.000Z</LastModified><ETag>&quot;be3bfb7167081ae48bbf06fc1966f035&quot;</ETag><Size>1500420</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-78.jpg</Key><LastModified>2019-12-28T14:44:31.000Z</LastModified><ETag>&quot;91bdd8cc5ffbf9dec52d137a2f834279&quot;</ETag><Size>2007037</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-79.jpg</Key><LastModified>2019-12-28T14:44:31.000Z</LastModified><ETag>&quot;79fcc4e51b6fe19f808f483e7b6d4907&quot;</ETag><Size>1746901</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-8.jpg</Key><LastModified>2019-12-27T04:24:31.000Z</LastModified><ETag>&quot;7948d0153dbc1a4e25d4b1fefdffe770&quot;</ETag><Size>2649493</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-80.jpg</Key><LastModified>2019-12-28T14:44:32.000Z</LastModified><ETag>&quot;238a27af142dc1a4eadae528febc51d7&quot;</ETag><Size>1532271</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-81.jpg</Key><LastModified>2019-12-28T14:48:49.000Z</LastModified><ETag>&quot;d45955a96d7a29ea73dea0dd2b20cdf2&quot;</ETag><Size>1823521</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-82.jpg</Key><LastModified>2019-12-28T14:48:43.000Z</LastModified><ETag>&quot;adce02febe5b947b01fced651ecaf815&quot;</ETag><Size>2044338</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-83.jpg</Key><LastModified>2019-12-28T14:48:53.000Z</LastModified><ETag>&quot;f6fc3816217680a12cc7b3cb1e9632f6&quot;</ETag><Size>2613527</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-84.jpg</Key><LastModified>2019-12-28T14:48:48.000Z</LastModified><ETag>&quot;c2df9750cac43aaff6270a9cf76ee515&quot;</ETag><Size>1774414</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-85.jpg</Key><LastModified>2019-12-28T14:48:49.000Z</LastModified><ETag>&quot;da5fbec2afc1151db4a438ef63b6267e&quot;</ETag><Size>2022025</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-86.jpg</Key><LastModified>2019-12-28T14:48:46.000Z</LastModified><ETag>&quot;7f411bd944345e14ad46161c7da39b1a&quot;</ETag><Size>2269747</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>full-9.jpg</Key><LastModified>2019-12-27T04:24:31.000Z</LastModified><ETag>&quot;47ee780c1c13bc01556d04ea9d300823&quot;</ETag><Size>2149565</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-1.jpg</Key><LastModified>2019-12-27T04:24:02.000Z</LastModified><ETag>&quot;7978fd336ae3c3d172d269be6b07b2fb&quot;</ETag><Size>55298</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-10.jpg</Key><LastModified>2019-12-27T14:30:56.000Z</LastModified><ETag>&quot;20f6b0eb9cc4255888103507dd9d46f8&quot;</ETag><Size>38815</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-11.jpg</Key><LastModified>2019-12-27T14:30:56.000Z</LastModified><ETag>&quot;9ac5ba5f03f8779fa8e0f82b79bfe2ea&quot;</ETag><Size>46015</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-12.jpg</Key><LastModified>2019-12-27T14:30:56.000Z</LastModified><ETag>&quot;a7d4f1592f210cf0ad1c3fdfa48c36fc&quot;</ETag><Size>42323</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-13.jpg</Key><LastModified>2019-12-27T14:30:56.000Z</LastModified><ETag>&quot;4139568cd64d7397ebd354e365ad89f4&quot;</ETag><Size>54850</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-14.jpg</Key><LastModified>2019-12-27T14:30:56.000Z</LastModified><ETag>&quot;870f402543d62c03b5f1b5beb86f8a5d&quot;</ETag><Size>47308</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-15.jpg</Key><LastModified>2019-12-27T14:30:57.000Z</LastModified><ETag>&quot;70365033e3ccfc47ebdf1bb6015d3cc7&quot;</ETag><Size>34793</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-16.jpg</Key><LastModified>2019-12-27T14:30:57.000Z</LastModified><ETag>&quot;17c5239fe46a5c5a3f9ba47fa5d61c03&quot;</ETag><Size>40912</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-17.jpg</Key><LastModified>2019-12-27T14:30:57.000Z</LastModified><ETag>&quot;9ff43cd8398a7407aeb9f7564a4daccb&quot;</ETag><Size>45948</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-18.jpg</Key><LastModified>2019-12-27T14:30:57.000Z</LastModified><ETag>&quot;e11294dac9910d13104d59be4ae31b80&quot;</ETag><Size>45357</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-19.jpg</Key><LastModified>2019-12-27T14:30:58.000Z</LastModified><ETag>&quot;6c384eb5b832fa744e505c1363043e3d&quot;</ETag><Size>51871</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-2.jpg</Key><LastModified>2019-12-27T04:24:03.000Z</LastModified><ETag>&quot;f233bad748c2adc7fe2aeb7469d45e98&quot;</ETag><Size>89506</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-20.jpg</Key><LastModified>2019-12-27T14:47:12.000Z</LastModified><ETag>&quot;5decfda436c9d559aebc6d541757e1a8&quot;</ETag><Size>69124</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-21.jpg</Key><LastModified>2019-12-27T14:47:12.000Z</LastModified><ETag>&quot;6645664702ba2ec4f20c6f868552cad9&quot;</ETag><Size>58523</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-22.jpg</Key><LastModified>2019-12-27T14:47:13.000Z</LastModified><ETag>&quot;990f834adacb9445f550e3961e7277a4&quot;</ETag><Size>63594</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-23.jpg</Key><LastModified>2019-12-27T15:57:44.000Z</LastModified><ETag>&quot;dd67fde05cfaae9748855ad3288d179c&quot;</ETag><Size>49011</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-24.jpg</Key><LastModified>2019-12-27T15:57:45.000Z</LastModified><ETag>&quot;1a1e2a9bb9d9485567cc8b27b8ce8e0a&quot;</ETag><Size>33306</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-25.jpg</Key><LastModified>2019-12-27T15:57:45.000Z</LastModified><ETag>&quot;a5b45ba8b447869eec30f34b8e0bc4bd&quot;</ETag><Size>47533</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-26.jpg</Key><LastModified>2019-12-27T15:57:45.000Z</LastModified><ETag>&quot;4160cd3c6c54e5f6422edbf9496a6ab1&quot;</ETag><Size>46917</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-27.jpg</Key><LastModified>2019-12-27T15:57:46.000Z</LastModified><ETag>&quot;7b8ea6c21d80e438608cb7b886e4add3&quot;</ETag><Size>43003</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-28.jpg</Key><LastModified>2019-12-27T18:33:52.000Z</LastModified><ETag>&quot;435cb9781598efbe7466f2d5d8ee0f79&quot;</ETag><Size>63393</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-29.jpg</Key><LastModified>2019-12-27T18:33:51.000Z</LastModified><ETag>&quot;259d81510d07ba5a596676eeb6aa5ad3&quot;</ETag><Size>54527</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-3.jpg</Key><LastModified>2019-12-27T04:24:03.000Z</LastModified><ETag>&quot;93be7974e0296b93772bc348d6473be6&quot;</ETag><Size>92044</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-30.jpg</Key><LastModified>2019-12-27T18:33:52.000Z</LastModified><ETag>&quot;7022b08dc22d0582e7ceab76917d6e2e&quot;</ETag><Size>67622</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-31.jpg</Key><LastModified>2019-12-27T18:33:52.000Z</LastModified><ETag>&quot;10f16af43b1f95392968f1398c43abb3&quot;</ETag><Size>75405</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-32.jpg</Key><LastModified>2019-12-27T18:33:52.000Z</LastModified><ETag>&quot;76e1a259377f69c910541c4cb254ec19&quot;</ETag><Size>86623</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-33.jpg</Key><LastModified>2019-12-27T18:33:53.000Z</LastModified><ETag>&quot;c30f96b3df185093b6cba6d0539415a6&quot;</ETag><Size>79870</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-34.jpg</Key><LastModified>2019-12-27T18:33:53.000Z</LastModified><ETag>&quot;6b5c13254d3888f34f46df5a8cf5977d&quot;</ETag><Size>65992</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-35.jpg</Key><LastModified>2019-12-27T18:33:53.000Z</LastModified><ETag>&quot;bd02cc36b755a19726b6e3539df65853&quot;</ETag><Size>68126</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-36.jpg</Key><LastModified>2019-12-27T18:33:53.000Z</LastModified><ETag>&quot;563284d5359db05806fcbb547433fad0&quot;</ETag><Size>65979</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-37.jpg</Key><LastModified>2019-12-27T18:33:53.000Z</LastModified><ETag>&quot;f724f084474f933e2bff1d28e59296d7&quot;</ETag><Size>65689</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-38.jpg</Key><LastModified>2019-12-27T18:33:54.000Z</LastModified><ETag>&quot;56d83ec56da9fb2915ac7b3e79c3ffdc&quot;</ETag><Size>67150</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-39.jpg</Key><LastModified>2019-12-27T18:33:55.000Z</LastModified><ETag>&quot;08c43c6db087fdd2eac97631f2795dfd&quot;</ETag><Size>70431</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-4.jpg</Key><LastModified>2019-12-27T04:24:04.000Z</LastModified><ETag>&quot;71c792232f01936ec70607dddeba394c&quot;</ETag><Size>214756</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-40.jpg</Key><LastModified>2019-12-27T18:33:55.000Z</LastModified><ETag>&quot;8c9142061f88b4631a8b997d7a514de2&quot;</ETag><Size>67756</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-41.jpg</Key><LastModified>2019-12-27T18:33:55.000Z</LastModified><ETag>&quot;c48fb42eba23c8ae25c9df6c401becbd&quot;</ETag><Size>49647</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-42.jpg</Key><LastModified>2019-12-27T18:45:56.000Z</LastModified><ETag>&quot;be79629b13a05c37ab7450a0482ccbab&quot;</ETag><Size>46238</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-43.jpg</Key><LastModified>2019-12-27T18:45:58.000Z</LastModified><ETag>&quot;cd3c8c43233d6fecc8ecf37c003548da&quot;</ETag><Size>47603</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-44.jpg</Key><LastModified>2019-12-27T18:45:58.000Z</LastModified><ETag>&quot;b8211f2511ade22e69569024f9a20d1a&quot;</ETag><Size>49650</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-45.jpg</Key><LastModified>2019-12-27T18:45:59.000Z</LastModified><ETag>&quot;0953983a6a917f1d12944e427d38ca1c&quot;</ETag><Size>48462</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-46.jpg</Key><LastModified>2019-12-27T18:45:59.000Z</LastModified><ETag>&quot;0bb13c99d4ec4ef87f6db93820638847&quot;</ETag><Size>41257</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-47.jpg</Key><LastModified>2019-12-27T18:46:00.000Z</LastModified><ETag>&quot;a6be788ef79287b3a1de10cc2e418391&quot;</ETag><Size>53177</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-48.jpg</Key><LastModified>2019-12-27T18:46:01.000Z</LastModified><ETag>&quot;e77f307cc8a0d361594d4b7c77f0af18&quot;</ETag><Size>53869</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-49.jpg</Key><LastModified>2019-12-27T18:46:00.000Z</LastModified><ETag>&quot;0e37002d7fcf002ba6453e60134ef780&quot;</ETag><Size>46815</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-5.jpg</Key><LastModified>2019-12-27T04:24:03.000Z</LastModified><ETag>&quot;6f9076e9e55b3f7fadb3a4d79fd938bc&quot;</ETag><Size>172654</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-50.jpg</Key><LastModified>2019-12-27T18:46:01.000Z</LastModified><ETag>&quot;9de50d51692467b00bb4987ed03e21ec&quot;</ETag><Size>36039</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-51.jpg</Key><LastModified>2019-12-27T18:49:28.000Z</LastModified><ETag>&quot;21a829dd6d020770ea6ab9535a7bc17b&quot;</ETag><Size>31801</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-52.jpg</Key><LastModified>2019-12-27T18:49:29.000Z</LastModified><ETag>&quot;2b3741fb99fa73a6d7cbc5101a9b9f30&quot;</ETag><Size>30349</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-53.jpg</Key><LastModified>2019-12-27T18:49:30.000Z</LastModified><ETag>&quot;dd8c985780cb49c0fad2c06b6f13f063&quot;</ETag><Size>29186</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-54.jpg</Key><LastModified>2019-12-27T18:49:31.000Z</LastModified><ETag>&quot;40011f3665e7d0f2b5cd9cff986bbe14&quot;</ETag><Size>26648</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-55.jpg</Key><LastModified>2019-12-28T14:24:41.000Z</LastModified><ETag>&quot;9634c306869e0a88a2b25cb6ab74bf3b&quot;</ETag><Size>46926</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-56.jpg</Key><LastModified>2019-12-28T14:24:41.000Z</LastModified><ETag>&quot;59e5aa2a039dd2a55ff43f4ac77a67b5&quot;</ETag><Size>60419</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-57.jpg</Key><LastModified>2019-12-28T14:24:42.000Z</LastModified><ETag>&quot;e69504b03d1ab08f3b1ee737938e1176&quot;</ETag><Size>57644</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-58.jpg</Key><LastModified>2019-12-28T14:24:42.000Z</LastModified><ETag>&quot;7d12ea93d341975aafbbf26f517928a5&quot;</ETag><Size>53603</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-59.jpg</Key><LastModified>2019-12-28T14:24:42.000Z</LastModified><ETag>&quot;76c66fed95ecf7c5ca724e6dc33b4729&quot;</ETag><Size>56281</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-6.jpg</Key><LastModified>2019-12-27T04:24:05.000Z</LastModified><ETag>&quot;b5da9c968e4a096fe1629d3e283ddcf6&quot;</ETag><Size>267071</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-60.jpg</Key><LastModified>2019-12-28T14:24:43.000Z</LastModified><ETag>&quot;e9631da34aad5ffe032502a1c970d544&quot;</ETag><Size>53597</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-61.jpg</Key><LastModified>2019-12-28T14:24:43.000Z</LastModified><ETag>&quot;a78b1ebfdd7c8393bf51cd3c1602a6a6&quot;</ETag><Size>50480</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-62.jpg</Key><LastModified>2019-12-28T14:24:43.000Z</LastModified><ETag>&quot;09801159c4d760d37aab7b085c1a106f&quot;</ETag><Size>54015</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-63.jpg</Key><LastModified>2019-12-28T14:24:43.000Z</LastModified><ETag>&quot;e08eb29a2b242e98343c8d63126c5ec5&quot;</ETag><Size>41880</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-64.jpg</Key><LastModified>2019-12-28T14:24:44.000Z</LastModified><ETag>&quot;36ebb8e6357a66dcfce281512ae2b1e0&quot;</ETag><Size>46778</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-65.jpg</Key><LastModified>2019-12-28T14:24:44.000Z</LastModified><ETag>&quot;cf9cd8c38a11976dfa7b5a301afa89eb&quot;</ETag><Size>43124</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-66.jpg</Key><LastModified>2019-12-28T14:24:45.000Z</LastModified><ETag>&quot;b8216b1cf2e09f460b2e5dbc6f356b0b&quot;</ETag><Size>48318</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-67.jpg</Key><LastModified>2019-12-28T14:24:45.000Z</LastModified><ETag>&quot;3a5a02b7e62acdb4ca4bb648432d9e11&quot;</ETag><Size>35493</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-68.jpg</Key><LastModified>2019-12-28T14:24:46.000Z</LastModified><ETag>&quot;a1e33fabe9b47ce0a2a33519e4a53c58&quot;</ETag><Size>43736</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-69.jpg</Key><LastModified>2019-12-28T14:24:46.000Z</LastModified><ETag>&quot;5b7650bfb62281c82c8ce64653b13b9d&quot;</ETag><Size>46061</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-7.jpg</Key><LastModified>2019-12-27T04:24:04.000Z</LastModified><ETag>&quot;820fba974f1ca1a451f884da982291cc&quot;</ETag><Size>197405</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-70.jpg</Key><LastModified>2019-12-28T14:44:30.000Z</LastModified><ETag>&quot;464337844983216cc1760d8f0f3dd561&quot;</ETag><Size>48592</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-71.jpg</Key><LastModified>2019-12-28T14:44:31.000Z</LastModified><ETag>&quot;b3173b788b821b761bbfa6b321644620&quot;</ETag><Size>47492</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-72.jpg</Key><LastModified>2019-12-28T14:44:31.000Z</LastModified><ETag>&quot;3fcf9c9367e86e92078d04be572c675b&quot;</ETag><Size>39756</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-73.jpg</Key><LastModified>2019-12-28T14:44:32.000Z</LastModified><ETag>&quot;0328c65280565bded1d3918d24d8293b&quot;</ETag><Size>44447</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-74.jpg</Key><LastModified>2019-12-28T14:44:34.000Z</LastModified><ETag>&quot;539b0adacfa64e3f40adfdd217451202&quot;</ETag><Size>58060</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-75.jpg</Key><LastModified>2019-12-28T14:44:34.000Z</LastModified><ETag>&quot;02acb1a7082275f9cf34f7c795b014c2&quot;</ETag><Size>48731</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-76.jpg</Key><LastModified>2019-12-28T14:44:34.000Z</LastModified><ETag>&quot;8de573e4669566475ba5f439feb3f3f5&quot;</ETag><Size>58121</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-77.jpg</Key><LastModified>2019-12-28T14:44:34.000Z</LastModified><ETag>&quot;5b1edda1fcf9277f94d862c32931600d&quot;</ETag><Size>49645</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-78.jpg</Key><LastModified>2019-12-28T14:44:35.000Z</LastModified><ETag>&quot;f5f32a2ba4ee19cb53915bca729d0542&quot;</ETag><Size>49812</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-79.jpg</Key><LastModified>2019-12-28T14:44:34.000Z</LastModified><ETag>&quot;ed27729ddb04ee97c2a05d9ff6055d39&quot;</ETag><Size>56025</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-8.jpg</Key><LastModified>2019-12-27T04:24:05.000Z</LastModified><ETag>&quot;e2db777c4f11c575f40c35fdb873e09f&quot;</ETag><Size>226539</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-80.jpg</Key><LastModified>2019-12-28T14:44:35.000Z</LastModified><ETag>&quot;139097c2e451370abbbc58d1adcba31e&quot;</ETag><Size>47911</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-81.jpg</Key><LastModified>2019-12-28T14:48:47.000Z</LastModified><ETag>&quot;0f0468ab89d9146d3b541a5eea55df46&quot;</ETag><Size>44957</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-82.jpg</Key><LastModified>2019-12-28T14:48:48.000Z</LastModified><ETag>&quot;2a2c1a6c3cd4ce9e51b1344ad72f4fa5&quot;</ETag><Size>65130</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-83.jpg</Key><LastModified>2019-12-28T14:48:50.000Z</LastModified><ETag>&quot;bab4ff9c2cb9d8b46322dadcc9048382&quot;</ETag><Size>59661</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-84.jpg</Key><LastModified>2019-12-28T14:48:51.000Z</LastModified><ETag>&quot;c7bbabf9859b545e8e0199f73a44714b&quot;</ETag><Size>50550</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-85.jpg</Key><LastModified>2019-12-28T14:48:51.000Z</LastModified><ETag>&quot;e4b9bd8fd5e356e4c66a4df6dc9597e7&quot;</ETag><Size>45916</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-86.jpg</Key><LastModified>2019-12-28T14:48:51.000Z</LastModified><ETag>&quot;15b982e92cb235aa078dcae6d9639707&quot;</ETag><Size>53303</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>thumb-9.jpg</Key><LastModified>2019-12-27T04:24:05.000Z</LastModified><ETag>&quot;5b7e13f5e90366c4a23d2579ce5426b7&quot;</ETag><Size>135736</Size><StorageClass>STANDARD</StorageClass></Contents></ListBucketResult>";
      if (response) {
        let regexp = /thumb-\d(\d)?(\d)?/g;
        let thumbsTemp = [...response.matchAll(regexp)];
        thumbsTemp.forEach(thumb => {
          const num = thumb[0].substr(6, 3);
          if(thumbsArr.indexOf(num) === -1) {
            thumbsArr.push(num)
          }
        });
        const sorted = thumbsArr.sort(function(a, b){return a-b});
        setThumbsNumArr(sorted);
        buildDisplayThumbnails(thumbsArr, 19)
      }
    }

    fetchData();

  }, []);

  const keydown = (event) => {
    if (event.keyCode === 37) {
      scrollBackPhoto(true);
    }
    if (event.keyCode === 39) {
      scrollForwardPhoto(true);
    }
  };

  useEffect(() => {
    window.addEventListener('keydown', keydown);
    return () => {
      window.removeEventListener('keydown', keydown);
    };
  }, [thumbsNumArr]);

  const showImageModal = (index) => {
    setPhotoIndex(index);
    setModalPhoto(`https://mtnbiketravel-gallery.s3.us-east-2.amazonaws.com/full-${index}.jpg`);
    setShowModal(true);
  };

  const clearModal = () => {
    setShowModal(false);
  };

  const showMorePhotos = () => {
    const numPhotosShownCurrent = numOfPhotosShown + 20;
    setNumOfPhotosShown(numPhotosShownCurrent);
    buildDisplayThumbnails(thumbsNumArr, numPhotosShownCurrent);
    if (numPhotosShownCurrent > thumbsNumArr.length) {
      setDisableShowMore(true);
    }
  };

  const scrollBackPhoto = (fromArrow) => {
    let newIndex;
    if (fromArrow) {
      const m = document.getElementById('modal-photo');
      const numStr = m.src.split('full-')[1];
      const num = numStr.split('.')[0];
      newIndex = +num - 1;
    } else {
      newIndex = +photoIndex - 1;
    }
    if (newIndex === 0) {
      newIndex = thumbsNumArr[thumbsNumArr.length -1];
    }
    setPhotoIndex(newIndex);
    setModalPhoto(`https://mtnbiketravel-gallery.s3.us-east-2.amazonaws.com/full-${newIndex}.jpg`);
  };

  const scrollForwardPhoto = (fromArrow) => {
    let newIndex;
    if (fromArrow) {
      const m = document.getElementById('modal-photo');
      const numStr = m.src.split('full-')[1];
      const num = numStr.split('.')[0];
      newIndex = +num + 1;
    } else {
      newIndex = +photoIndex + 1;
    }
    if (newIndex > thumbsNumArr[thumbsNumArr.length -1]) {
      newIndex = thumbsNumArr[0];
    }
    setPhotoIndex(newIndex);
    setModalPhoto(`https://mtnbiketravel-gallery.s3.us-east-2.amazonaws.com/full-${newIndex}.jpg`);
  };

  return (
    <div>
      <main className="gallery-body">
        <h1>Gallery</h1>
          <div className="gallery-container">
            {thumbs.map((thumb, index) => {
              try {
                return (
                  <div key={index} className="gallery-card" onClick={() => showImageModal(thumb.num)}>
                    <img src={thumb.url}/>
                  </div>
                );
              } catch (err) {
                console.log('err caught')
                console.log(err);
              }
            })}
          </div>
        <div className={`modal ${showModal ? 'show' : 'dontShow'}`}>
          <button className="close-gallery-modal"><CloseIcon fontSize="large" onClick={() => clearModal()}/></button>
          <ArrowBackIosIcon className="arrow" onClick={scrollBackPhoto} color="primary" fontSize="large" />
          <img id="modal-photo" src={modalPhoto} />
          <ArrowForwardIosIcon className="arrow" onClick={scrollForwardPhoto} color="primary" fontSize="large" />
        </div>
        {!disableShowMore && <div className="showMoreContainer">
          <button onClick={showMorePhotos}>Show More</button>
        </div>}
      </main>
    </div>
  );
}

export default Gallery;
